using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using static WindowsFormsApp3.Form1;
using static WindowsFormsApp3.Form1.DogadajiDelegati;

namespace WindowsFormsApp3
{


	public partial class Form1 : Form
	{
		public class DogadajiDelegati
		{
			public delegate void PosaljiPoruku(string s);
			public PosaljiPoruku ImeDogadaja;
		}

		public class Nastavnik
		{
			public PosaljiPoruku PosaljiPorukuUceniku;

			public Nastavnik(PosaljiPoruku posaljiPoruku)
			{
				PosaljiPorukuUceniku = posaljiPoruku; 
			}

			public void PosaljitePoruku(string poruka)
			{
				PosaljiPorukuUceniku?.Invoke(poruka); 
			}
		}

		public class Ucenik
		{
			public string Ime { get; set; }

			public Ucenik(string ime)
			{
				Ime = ime;
			}

			
			public void PrimiPoruku(string poruka)
			{
				MessageBox.Show($"{Ime} je primio poruku: {poruka}");
			}
		}
		private Nastavnik kreso;
		private Ucenik u1, u2, u3;

		private void button1_Click(object sender, EventArgs e)
		{

			string message = "Dobro jutro, dragi uƒçenici!";
			kreso.PosaljitePoruku(message);
		}

		public Form1()
		{
			InitializeComponent();
			u1 = new Ucenik("U1");
			u2 = new Ucenik("U2");
			u3 = new Ucenik("U3");

			
			kreso = new Nastavnik(null);

			
			kreso.PosaljiPorukuUceniku += u1.PrimiPoruku;
			kreso.PosaljiPorukuUceniku += u3.PrimiPoruku;
		}

		private void Form1_Load(object sender, EventArgs e)
		{

		}
	}
}
