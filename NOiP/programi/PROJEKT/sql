CREATE TABLE Korisnici (
    IdKorisnik INT IDENTITY(1,1) PRIMARY KEY,
    Username NVARCHAR(50) NOT NULL UNIQUE,
    PasswordHash NVARCHAR(256) NOT NULL
);
GO

-- Tablica Prava
CREATE TABLE Prava (
    IdPravo INT IDENTITY(1,1) PRIMARY KEY,
    NazivPrava NVARCHAR(50) NOT NULL
);
GO

-- Povezna tablica KorisniciPrava (many-to-many)
CREATE TABLE KorisniciPrava (
    IdKorisnik INT NOT NULL,
    IdPravo INT NOT NULL,
    PRIMARY KEY (IdKorisnik, IdPravo),
    FOREIGN KEY (IdKorisnik) REFERENCES Korisnici(IdKorisnik),
    FOREIGN KEY (IdPravo) REFERENCES Prava(IdPravo)
);
GO

-- Primjer unosa testnih podataka (hash je samo primjer, u praksi koristi SHA256 ili bcrypt)
INSERT INTO Korisnici (Username, PasswordHash)
VALUES ('admin', '5e884898da28047151d0e56f8dc6292773603d0d6aabbdd62a11ef721d1542d8'), -- hash za "password"
       ('ana', '6ca13d52ca70c883e0f0bb101e425a89e8624de51db2d2392593af6a84118090'); -- hash za "abc123"
--koristi sha256 hash!!!!

INSERT INTO Prava (NazivPrava)
VALUES ('Admin'),
       ('Korisnik');

INSERT INTO KorisniciPrava (IdKorisnik, IdPravo)
VALUES (1, 1), -- ivan je Admin
       (2, 2); -- ana je Korisnik
GO
